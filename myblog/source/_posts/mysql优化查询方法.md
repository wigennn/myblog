---
title: mysql优化查询方法
date: 2020-09-15 14:05:33
tags: mysql
---

对于mysql数据库的，优化查询方法
<!--more-->

## 思维导图
![mysql查询优化](/imgs/mysql优化查询.png)

## 1.使用索引
> 避免全表扫描

> 在where | order by | group by 后面的列上建立索引

## 2.优化sql语句
> 使用explain

> 不要使用select * from t, *替换成需要返回的列

> 不要在索引列计算和使用函数

> 尽可能使用limit减少返回行数, 减少数据传输时间和带宽浪费 

## 3.优化数据库对象
> 优化表数据类型，可以使用select * from t procedure analyse()。
查看表数据类型优化建议，原则是能正确的表示和存储数据的最短类型，减少对磁盘空间、内存、网络io的空间占用.

> 对表进行拆分 水平拆分（可以按一个字段取模分表）和垂直拆分（拆分列）

> 使用中间表提高查询速度，中间表和原表结构一致，转移数据至中间表提高查询速度

## 4.硬件优化
> CPU优化 使用多核和高频的CPU

> 内存优化 使用更大的内存，尽可能多的分配内存给mysql做缓存

> 磁盘IO优化 a.使用磁盘阵列 (RAID 0)(RAID 1)(RAID-0+1) b.调整磁盘调度算法，减少磁盘寻址时间

## 5.mysql自身优化
> my.cnf配置文件参数优化, 如指定mysql查询缓冲区的大小,指定mysql允许的最大连接进程数

## 6.应用优化
> 使用数据库连接池

> 使用查询缓存